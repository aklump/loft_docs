<!DOCTYPE html>

<html>
<head>
  <title>Generating Cheatsheets</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--ld--cheatsheet">
<header>
  <div class="pager">
  <a href="ld--autocompile.html" class="prev ld--autocompile">&laquo;Auto-compiling</a>
  <a href="index.html" class="index">Index</a>
  <a href="ld--compiling.html" class="next ld--compiling">Compiling&raquo;</a>
</div>
</header>

  <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>

  <h1>Generating Cheatsheets</h1>
  <div class="breadcrumb"><a href="index.html">Index</a></div>

<section>

<p>Loft Docs makes it easy to generate cheatsheets based on a class's methods.  The output might look something like this:</p>

<table>
<thead>
<tr>
  <th>BrowserTestCase</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>assert</strong> <em>($fail_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementExists</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementNotExists</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementNotVisible</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementVisible</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>el</strong> <em>($css_selector)</em></td>
</tr>
<tr>
  <td><strong>els</strong> <em>($css_selector)</em></td>
</tr>
<tr>
  <td><strong>generate</strong> <em>($method)</em></td>
</tr>
<tr>
  <td><strong>getDomElements</strong> <em>(array $css_selectors)</em></td>
</tr>
<tr>
  <td><strong>getSession</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getStored</strong> <em>($key, $default = NULL)</em></td>
</tr>
<tr>
  <td><strong>handleBaseUrl</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>loadPageByUrl</strong> <em>($url)</em></td>
</tr>
<tr>
  <td><strong>resolveUrl</strong> <em>($url, $remove_authentication_credentials = false)</em></td>
</tr>
<tr>
  <td><strong>store</strong> <em>($key, $value)</em></td>
</tr>
</tbody>
</table>

<h2>The Hook File Example Code</h2>

<p>Here's an example hook file that generated the above; be sure to register the hook in the config file.</p>

<pre><code>&lt;?php

/**
 * @file
 * An hook example of generating a PHP class method cheatsheet.
 */

use AKlump\LoftDocs\PhpClassMethodReader;
use AKlump\LoftLib\Code\Markdown;
use AKlump\LoftLib\Storage\FilePath;

// Define the classes to read.
$reader = new PhpClassMethodReader();

// The goal is to create a cheatsheet of methods in \AKlump\DrupalTest\BrowserTestCase.
$reader-&gt;addClassToScan('\AKlump\DrupalTest\BrowserTestCase', [

  // But we want to exclude the method called 'getBrowser', so we use the
  // second parameter which defines a filter.
  PhpClassMethodReader::EXCLUDE,
  ['/^(getBrowser)$/'],
]);

// Convert the scanned data into a markup table for each group, in this
// example there is only one group, because we are using only one class.
foreach ($reader-&gt;scan() as $group =&gt; $methods) {
  $contents = '';
  $methods = array_map(function ($method) use ($group) {
    return [$group =&gt; '&lt;strong&gt;' . $method['name'] . '&lt;/strong&gt; &lt;em&gt;(' . implode(', ', $method['params']) . ')&lt;/em&gt;'];
  }, $methods);
  $contents .= Markdown::table($methods) . PHP_EOL;

  // Save the snippet to be used by other pages.
  FilePath::create($argv[9] . "/_$group.md")-&gt;put($contents)-&gt;save();
}
</code></pre>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager">
  <a href="ld--autocompile.html" class="prev ld--autocompile">&laquo;Auto-compiling</a>
  <a href="index.html" class="index">Index</a>
  <a href="ld--compiling.html" class="next ld--compiling">Compiling&raquo;</a>
</div>
  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.9.33 &bull; Last Updated: Wed, 20 Feb 2019 17:09:13 -0800</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function () {
      $('#tipue_search_input').tipuesearch();
    });
  </script>
<script src="js/core.js"></script>
</body>
</html>

